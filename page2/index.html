<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Latest Posts &#8211; xiquwugou</title>
<meta name="description" content="Describe this nonsense.">
<meta name="keywords" content="Jekyll, theme, themes, responsive, blog, modern">



<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Latest Posts">
<meta property="og:description" content="Describe this nonsense.">
<meta property="og:url" content="https://main-1vp.pages.dev/page2/">
<meta property="og:site_name" content="xiquwugou">





<link rel="canonical" href="https://main-1vp.pages.dev/page2/">
<link href="https://main-1vp.pages.dev/feed.xml" type="application/atom+xml" rel="alternate" title="xiquwugou Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="https://main-1vp.pages.dev/assets/css/main.css">
<!-- Webfonts -->
<link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="https://main-1vp.pages.dev/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="https://main-1vp.pages.dev/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="https://main-1vp.pages.dev/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="https://main-1vp.pages.dev/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://main-1vp.pages.dev/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://main-1vp.pages.dev/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://main-1vp.pages.dev/images/apple-touch-icon-144x144-precomposed.png">



</head>

<body id="post-index" class="feature">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="https://main-1vp.pages.dev/">Home</a></li>
		<li>
			<a href="#">About</a>
			<ul class="dl-submenu">
				<li>
					<img src="https://main-1vp.pages.dev/images/avatar.jpg" alt="xiquwugou photo" class="author-photo">
					<h4>xiquwugou</h4>
					<p>Your bio goes here. It shouldn't be super long but a good sentence or two should suffice.</p>
				</li>
				<li><a href="https://main-1vp.pages.dev/about/"><span class="btn btn-inverse">Learn More</span></a></li>
				<li>
					<a href="mailto:xiqu.wugou@gmail.com"><i class="fa fa-fw fa-envelope"></i> Email</a>
				</li>
				
				
				
				
				
				
				
				
				
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">Posts</a>
			<ul class="dl-submenu">
				<li><a href="https://main-1vp.pages.dev/posts/">All Posts</a></li>
				<li><a href="https://main-1vp.pages.dev/tags/">All Tags</a></li>
			</ul>
		</li>
		
	    
	    <li><a href="https://main-1vp.pages.dev/theme-setup/" >读书笔记</a></li>
	  
	    
	    <li><a href="http://songxiaofeng1981.github.io" target="_blank">External Link</a></li>
	  
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->


<div class="entry-header">
  <div class="image-credit">Image source: <a href="http://www.dargadgetz.com/ios-7-abstract-wallpaper-pack-for-iphone-5-and-ipod-touch-retina/">dargadgetz</a></div><!-- /.image-credit -->
  
    <div class="entry-image">
      <img src="https://main-1vp.pages.dev/images/abstract-1.jpg" alt="Latest Posts">
    </div><!-- /.entry-image -->
  
  <div class="header-title">
    <div class="header-title-wrap">
      <h1>xiquwugou</h1>
      <h2>Latest Posts</h2>
    </div><!-- /.header-title-wrap -->
  </div><!-- /.header-title -->
</div><!-- /.entry-header -->

<div id="main" role="main">
  
<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2013-10-11T00:00:00+08:00"><a href="https://main-1vp.pages.dev/my-girl/">October 11, 2013</a></time></span><span class="author vcard"><span class="fn"><a href="https://main-1vp.pages.dev/about/" title="About xiquwugou">xiquwugou</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="https://main-1vp.pages.dev/my-girl/" rel="bookmark" title="我家姑娘" itemprop="url">我家姑娘</a></h1>
    
  </header>
  <div class="entry-content">
    <p><img src="https://f.cloud.github.com/assets/5121948/1314801/2e7b534c-327c-11e3-89a5-925209d74e84.JPG" alt="1_1" />
<img src="https://f.cloud.github.com/assets/5121948/1314800/2e7c10e8-327c-11e3-83e8-a4e765a5ce30.JPG" alt="1_2" />
<img src="https://f.cloud.github.com/assets/5121948/1314802/2e7b915e-327c-11e3-8d72-a412a6f33604.JPG" alt="1_3" />
<img src="https://f.cloud.github.com/assets/5121948/1314803/2e7ca6a2-327c-11e3-9373-c26ac765679e.JPG" alt="1_4" /></p>


  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2013-09-28T17:35:00+08:00"><a href="https://main-1vp.pages.dev/essay/mybaby/">September 28, 2013</a></time></span><span class="author vcard"><span class="fn"><a href="https://main-1vp.pages.dev/about/" title="About xiquwugou">xiquwugou</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="https://main-1vp.pages.dev/essay/mybaby/" rel="bookmark" title="宝宝的诞生" itemprop="url">宝宝的诞生</a></h1>
    
  </header>
  <div class="entry-content">
    <p>今天给给宝宝采足跟血，回来时候死活打不到车，终于打到车又堵在三环，北京现在没有不堵的时候，看着这脏天烂地。真不知道还要在这呆多长时间。宝宝呼吸这样的空气，还有我们这临时住所。
可爱的宝宝
<img src="https://f.cloud.github.com/assets/2377148/1443194/a60da316-41da-11e3-930e-5e3977333130.JPG" alt="baby" /></p>


  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2013-09-28T08:28:00+08:00"><a href="https://main-1vp.pages.dev/note/python-efficiency/">September 28, 2013</a></time></span><span class="author vcard"><span class="fn"><a href="https://main-1vp.pages.dev/about/" title="About xiquwugou">xiquwugou</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="https://main-1vp.pages.dev/note/python-efficiency/" rel="bookmark" title="用python计算程序处理效率" itemprop="url">用python计算程序处理效率</a></h1>
    
  </header>
  <div class="entry-content">
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>用程序解决重复性的问题 公司的同事喜欢用excel解决问题，我们入库程序压力比较大。现在经常要计算一下它的处理效率。一般的处理方法就是脚本加excel，半天才出一个结果。我写了一个脚本，现在只要一行命令，就能计算出程序的效率了。
</code></pre></div></div>

<h2 id="分析问题">分析问题</h2>
<ol>
  <li>日志文件大，需要逐行读取，不能一次性读到内存中，不能影响服务器性能。</li>
  <li>无用的行需要过滤掉，只分析有效内容的行。</li>
  <li>每次只计算一个文件结果，输入参数为文件名称</li>
  <li>用shell循环执行。分析目录下所有日志。</li>
</ol>

<h2 id="编程步骤">编程步骤</h2>

<p>python逐行读取文件方法</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>with open(filename) as infile:
    for line in infile:
		do something line
</code></pre></div></div>

<p>过滤无用的行</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>if line.find("pattern*") == -1:
    return None
else:
    return line 读取参数

if __name__ == '__main__':
    isInput = len(sys.argv)
    if isInput == 1:
        print "pleas input log path and log name "
    else:
        path = sys.argv[1] 输出结果，字符串中间用tab分隔

    print path, "\t", str
</code></pre></div></div>

<p>脚本完成，用shell执行</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ls | grep core.log.2013-09 | while read f; do python read_file.py $f; done
</code></pre></div></div>

<p>ok，输出结果如下</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>core.log.2013-09-18     96 ge/s          587 KB/s
core.log.2013-09-19     95 ge/s          621 KB/s
core.log.2013-09-20     90 ge/s          645 KB/s
core.log.2013-09-21     87 ge/s          617 KB/s
core.log.2013-09-22     88 ge/s          607 KB/s
core.log.2013-09-23     83 ge/s          548 KB/s
core.log.2013-09-24     86 ge/s          564 KB/s
core.log.2013-09-25     85 ge/s          544 KB/s
core.log.2013-09-26     79 ge/s          506 KB/s
core.log.2013-09-27     74 ge/s          478 KB/s
</code></pre></div></div>

<p>可以看出最近入库效率明显下降，问题暴漏出来，才能在下一步采取措施</p>


  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2013-09-26T08:14:00+08:00"><a href="https://main-1vp.pages.dev/essay/pregnancy/">September 26, 2013</a></time></span><span class="author vcard"><span class="fn"><a href="https://main-1vp.pages.dev/about/" title="About xiquwugou">xiquwugou</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="https://main-1vp.pages.dev/essay/pregnancy/" rel="bookmark" title="办理生育保险的步骤" itemprop="url">办理生育保险的步骤</a></h1>
    
  </header>
  <div class="entry-content">
    <p>在北京外地人生孩子报销需要准备什么？</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>派出所： 暂住证
社区医院： 母子健康证
外地来京人员生育服务联系单： 街道办事处
</code></pre></div></div>

<p>这些地方不在一处 ，去之前提前找好路</p>

<p>住院时如果外地户口需要提供：外地来京人员生育服务联系单</p>

<h2 id="外地来京人员生育服务联系单">外地来京人员生育服务联系单</h2>

<p><a href="http://life.bjchy.gov.cn/jxdq/jtdq/shfw/fwdw/jdbs/402883ef26b083f10126b12da65c004c.html" title="将台地区办事处">将台地区办事处</a></p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2013-09-19T22:31:00+08:00"><a href="https://main-1vp.pages.dev/note/swimming/">September 19, 2013</a></time></span><span class="author vcard"><span class="fn"><a href="https://main-1vp.pages.dev/about/" title="About xiquwugou">xiquwugou</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="https://main-1vp.pages.dev/note/swimming/" rel="bookmark" title="13年农历八月十五" itemprop="url">13年农历八月十五</a></h1>
    
  </header>
  <div class="entry-content">
    <h2 id="涮锅子">涮锅子</h2>
<p>昨天老婆听他哥在家涮火锅，就也想涮火锅，今天一大早我们就去菜市场买羊肉片，买菜。去年对涮火锅还挺感兴趣。不想买了电陶炉吃了几次。就给吃腻了，今年老婆在提，我却一点也提不起兴趣吃了。将台路的菜市场人总是很多。车水马龙，人头攒动。最烦人的就是推着自行车或登三轮的。市场路小。他们却到处挤。搞的我总是提心吊胆。怕撞着老婆。老婆已近临近分娩，她走路又大大咧咧。不能不让人担心啊。</p>

<p>买完菜看到菜市场的葡萄又大又黑。试着尝了一个。还很甜。菜市场就这点好。总是能买到新鲜又实惠的食材。像这葡萄。昨天在我们楼下。贵1块不说。还不好吃。而在菜市场，便宜新鲜还好吃，我不知道别人去哪里买菜。但是自从跟老婆结婚后，我们每周末都要逛一次菜市场。买别的地方看不到的茭白，活虾，扇贝等等。</p>

<p>买菜回来老婆就跟岳母开始收拾。还让我打电话叫王磊过来。说王磊一个人在北京，今天过节，让他过来一起涮锅子。我也觉得挺好，就给王磊发短信。因为他的电话我从来都没打通过。过半天他才回我。说过来。结果到中午1点他还不见踪影。我发短信也不回我。不能让岳母老婆饿着啊。我就说还是先吃吧。再说王磊也不爱吃火锅。</p>

<p>下午2:00多这家伙终于到了。说是路上堵车。一起聊了聊他的新工作。王磊还是很靠谱的，他很适合干销售。</p>


  </div><!-- /.entry-content -->
</article><!-- /.hentry -->



<div class="pagination">
  <ul class="inline-list">
    
    
      
        <li><a href="https://main-1vp.pages.dev" class="btn">Previous</a></li>
      
    

    
    
      <li><a href="https://main-1vp.pages.dev">1</a></li>
    

    
    

    
    
    

    
      
        <li><strong class="current-page">2</strong></li>
      
    
      
        
        
        
        <li><a href="https://main-1vp.pages.dev/page3/">3</a></li>
      
    
      
        
        
        
        <li><a href="https://main-1vp.pages.dev/page4/">4</a></li>
      
    

    
    
      <li>…</li>
    

    
      <li><a href="https://main-1vp.pages.dev/page8/">8</a></li>
    

    
    
      <li><a href="https://main-1vp.pages.dev/page3/" class="btn">Next</a></li>
    
  </ul>
</div>

</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2023 xiquwugou. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="https://mademistakes.com/work/hpstr-jekyll-theme/" rel="nofollow">HPSTR Theme</a>.</span>
  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="https://main-1vp.pages.dev/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="https://main-1vp.pages.dev/assets/js/scripts.min.js"></script>



          

</body>
</html>